(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f249"],{d920:function(s,t,a){"use strict";a.r(t);var n=function(){var s=this;s._self._c;return s._m(0)},l=[function(){var s=this,t=s._self._c;return t("div",[t("h1",[s._v("如何动态修改自定义元素的大小")]),t("p",[s._v("自定义节点大小不会随着自定义元素大小改变而自动改变，如果有动态修改自定义节点内容大小的需求，比如展开收起一部分内容，目前可以尝试如下做法：")]),t("p",[s._v("1.控制节点大小的字段必须是节点数据中的一个字段，否则重新渲染时节点重新创建大小又会恢复最初的大小：")]),t("pre",{staticClass:"hljs"},[t("code",[t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" MindMap({\n    "),t("span",{staticClass:"hljs-attr"},[s._v("isUseCustomNodeContent")]),s._v(": "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(",\n    "),t("span",{staticClass:"hljs-attr"},[s._v("customCreateNodeContent")]),s._v(": "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("node")]),s._v(" =>")]),s._v(" {\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" el = "),t("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".createElement("),t("span",{staticClass:"hljs-string"},[s._v("'div'")]),s._v(")\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" _expand = node.nodeData.data._expand\n        el.style.background = "),t("span",{staticClass:"hljs-string"},[s._v("'#000'")]),s._v("\n        el.style.width = "),t("span",{staticClass:"hljs-string"},[s._v("'100px'")]),s._v("\n        el.style.height = _expand ? "),t("span",{staticClass:"hljs-string"},[s._v("'100px'")]),s._v(" : "),t("span",{staticClass:"hljs-string"},[s._v("'50px'")]),s._v("\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" el\n    }\n})\n")])]),t("p",[s._v("可以给节点数据添加一个自定义字段，比如"),t("code",[s._v("_expand")]),s._v("，然后通过这个字段来控制自定义元素的大小。")]),t("p",[s._v("2.点击自定义节点内容切换大小时需要修改节点数据，然后调用渲染方法：")]),t("pre",{staticClass:"hljs"},[t("code",[t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" MindMap({\n    "),t("span",{staticClass:"hljs-attr"},[s._v("isUseCustomNodeContent")]),s._v(": "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(",\n    "),t("span",{staticClass:"hljs-attr"},[s._v("customCreateNodeContent")]),s._v(": "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("node")]),s._v(" =>")]),s._v(" {\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" el = "),t("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".createElement("),t("span",{staticClass:"hljs-string"},[s._v("'div'")]),s._v(")\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" _expand = node.nodeData.data._expand\n        el.style.background = "),t("span",{staticClass:"hljs-string"},[s._v("'#000'")]),s._v("\n        el.style.width = "),t("span",{staticClass:"hljs-string"},[s._v("'100px'")]),s._v("\n        el.style.height = _expand ? "),t("span",{staticClass:"hljs-string"},[s._v("'100px'")]),s._v(" : "),t("span",{staticClass:"hljs-string"},[s._v("'50px'")]),s._v("\n        el.addEventListener("),t("span",{staticClass:"hljs-string"},[s._v("'click'")]),s._v(", "),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {\n            node.setData({\n                "),t("span",{staticClass:"hljs-attr"},[s._v("resetRichText")]),s._v(": "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(",\n                "),t("span",{staticClass:"hljs-attr"},[s._v("_expand")]),s._v(": !_expand\n            })\n            "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".mindMap.render()\n        })\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" el\n    }\n})\n")])]),t("p",[s._v("注意其中的"),t("code",[s._v("resetRichText")]),s._v("字段必须设置为"),t("code",[s._v("true")]),s._v("，否则不会触发渲染。")]),t("h3",[s._v("完整示例")]),t("iframe",{staticStyle:{width:"100%",height:"455px",border:"none"},attrs:{src:"https://wanglin2.github.io/playground/#eNq1Vc1uEzEQfpXBCG2K0k3KzyWkhf4dkGiFKjjhCm13J4nprr2yvUmrKpceEQ/BjWdonwdRHoPxrvenTbggYanNeuabb8Yz4/EV283zcF4gG7GxibXILRi0Rb7DpchypS1cgcZJH5Q8UoW0mPTBzKI0VYsTnMASJlplEBBD0FgcCZkcRXml4syQOMXNjKSbWZRzxiUAlylacDKH3AZZpCmXXDZuer0N2N6BKwfuwHBR0/dKFQCmI0hUXGQobThFe5ii+9y7fJv0Am+5r6SNhEQdbPQrqySy0ahid4szJ+CsI3JCixfWCTn79f3m99fru+sbzjxDhShE4gBbtWzZaDmLZyJNNEoH+NQadTz8xfFD5z9vv93d/ljj/14Mz7ryNo41sZy2ui7ufwX2/J8Cqz+9rLYTUtgTpeyxSvC9MsIKJckySHFigz4EMdWe6nzq4bHGyOIxLhx+D2fRXCg9gkAquxtbMceg5jUfDe4XxqrMQV3HENMIrC6w5iq1+xVjFyNp0zRrtWIljaXepJ5tmrOKxfdnL0jEPNh4aPEZL/JIJq7ViTR0/w6oDqErRuiVrQ2mobGXKYZnUXw+1XRznGXweDgc0nVcQS1EYmcOsDUc5hfrEDMU05klSB3H6xoMlLSXK1ZRkhzO6TTvhKFUoO4FcSricypE5/q2qzwTzRd3pPr+dpdGUp6IePaBWuxe7rvLxzaCRysJKTulk1S3/AwIqckSirCj7SI1TT0t6Uy+3dzPcuMVlw40HlSzkaYibSzSQKNK0g5gTGWEOI2M2ebMuzrATHFWqj1AJK22GUYEGQ9IW/H4r/GgQ0/bsi4l4o0fr5yFg2qm+kkYosnC2BjOKFw3WgHCTiR1Ecrq06gaDp+UOIC8uT8aySPdhlJRnt39PX4YcU3VGkZnRqWFrQwB3C0cwdDvrMrbzar7qtlG8MI1WO15vd+ntecs0lNBfmvWnDpQyGktIAKqVZky1mdVwtyjE34xStIbV7Jwr6CENdONM3rCqqEWDugz1PQKiQxdbjfPtFoY1ETSDLk1z1plu1oZZ+VjW7LlHxp7SUc="}})])}],e={},i=e,v=a("2877"),_=Object(v["a"])(i,n,l,!1,null,null,null);t["default"]=_.exports}}]);